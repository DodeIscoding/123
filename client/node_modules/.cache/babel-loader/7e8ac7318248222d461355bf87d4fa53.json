{"ast":null,"code":"var _jsxFileName = \"/home/leegenho/123/Node_server/client/src/components/views/html/KakaoMap.js\",\n    _s = $RefreshSig$();\n\n/* global kakao */\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst kakao = new window.kakao.maps.services.Geocoder();\nexport default function KakaoMap(props) {\n  _s();\n\n  const {\n    markerPositions,\n    size\n  } = props;\n  const [kakaoMap, setKakaoMap] = useState(null);\n  const [, setMarkers] = useState([]);\n  const container = useRef();\n  useEffect(() => {\n    const script = document.createElement(\"script\");\n    script.src = \"//dapi.kakao.com/v2/maps/sdk.js?appkey=a7a18fa6182937f9be9ca5aa55f24c63\";\n    document.head.appendChild(script);\n\n    script.onload = () => {\n      kakao.maps.load(() => {\n        const center = new kakao.maps.LatLng(37.50802, 127.062835);\n        const options = {\n          center,\n          level: 3\n        };\n        const map = new kakao.maps.Map(container.current, options); //setMapCenter(center);\n\n        setKakaoMap(map);\n      });\n    };\n  }, [container]);\n  useEffect(() => {\n    if (kakaoMap === null) {\n      return;\n    } // save center position\n\n\n    const center = kakaoMap.getCenter(); // change viewport size\n\n    const [width, height] = size;\n    container.current.style.width = `${width}px`;\n    container.current.style.height = `${height}px`; // relayout and...\n\n    kakaoMap.relayout(); // restore\n\n    kakaoMap.setCenter(center);\n  }, [kakaoMap, size]);\n  useEffect(() => {\n    if (kakaoMap === null) {\n      return;\n    }\n\n    const positions = markerPositions.map(pos => new kakao.maps.LatLng(...pos));\n    setMarkers(markers => {\n      // clear prev markers\n      markers.forEach(marker => marker.setMap(null)); // assign new markers\n\n      return positions.map(position => new kakao.maps.Marker({\n        map: kakaoMap,\n        position\n      }));\n    });\n\n    if (positions.length > 0) {\n      const bounds = positions.reduce((bounds, latlng) => bounds.extend(latlng), new kakao.maps.LatLngBounds());\n      kakaoMap.setBounds(bounds);\n    }\n  }, [kakaoMap, markerPositions]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"container\",\n    ref: container\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 10\n  }, this);\n}\n\n_s(KakaoMap, \"m9U0NzEYLeAM2gJur7TebWzS2k8=\");\n\n_c = KakaoMap;\n\nvar _c;\n\n$RefreshReg$(_c, \"KakaoMap\");","map":{"version":3,"names":["React","useEffect","useState","useRef","kakao","window","maps","services","Geocoder","KakaoMap","props","markerPositions","size","kakaoMap","setKakaoMap","setMarkers","container","script","document","createElement","src","head","appendChild","onload","load","center","LatLng","options","level","map","Map","current","getCenter","width","height","style","relayout","setCenter","positions","pos","markers","forEach","marker","setMap","position","Marker","length","bounds","reduce","latlng","extend","LatLngBounds","setBounds"],"sources":["/home/leegenho/123/Node_server/client/src/components/views/html/KakaoMap.js"],"sourcesContent":["/* global kakao */\n\nimport React, { useEffect, useState, useRef } from \"react\";\nconst kakao = new window.kakao.maps.services.Geocoder();\n\nexport default function KakaoMap(props) {\n  const { markerPositions, size } = props;\n  const [kakaoMap, setKakaoMap] = useState(null);\n  const [, setMarkers] = useState([]);\n\n  const container = useRef();\n\n  useEffect(() => {\n    const script = document.createElement(\"script\");\n    script.src =\n      \"//dapi.kakao.com/v2/maps/sdk.js?appkey=a7a18fa6182937f9be9ca5aa55f24c63\";\n    document.head.appendChild(script);\n\n    script.onload = () => {\n      kakao.maps.load(() => {\n        const center = new kakao.maps.LatLng(37.50802, 127.062835);\n        const options = {\n          center,\n          level: 3\n        };\n        const map = new kakao.maps.Map(container.current, options);\n        //setMapCenter(center);\n        setKakaoMap(map);\n      });\n    };\n  }, [container]);\n\n  useEffect(() => {\n    if (kakaoMap === null) {\n      return;\n    }\n\n    // save center position\n    const center = kakaoMap.getCenter();\n\n    // change viewport size\n    const [width, height] = size;\n    container.current.style.width = `${width}px`;\n    container.current.style.height = `${height}px`;\n\n    // relayout and...\n    kakaoMap.relayout();\n    // restore\n    kakaoMap.setCenter(center);\n  }, [kakaoMap, size]);\n\n  useEffect(() => {\n    if (kakaoMap === null) {\n      return;\n    }\n\n    const positions = markerPositions.map(pos => new kakao.maps.LatLng(...pos));\n\n    setMarkers(markers => {\n      // clear prev markers\n      markers.forEach(marker => marker.setMap(null));\n\n      // assign new markers\n      return positions.map(\n        position => new kakao.maps.Marker({ map: kakaoMap, position })\n      );\n    });\n\n    if (positions.length > 0) {\n      const bounds = positions.reduce(\n        (bounds, latlng) => bounds.extend(latlng),\n        new kakao.maps.LatLngBounds()\n      );\n\n      kakaoMap.setBounds(bounds);\n    }\n  }, [kakaoMap, markerPositions]);\n\n  return <div id=\"container\" ref={container} />;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}