{"ast":null,"code":"var _jsxFileName = \"/home/leegenho/123/Node_server/client/src/components/views/html/KakaoMap.js\",\n    _s = $RefreshSig$();\n\n/* global kakao */\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function KakaoMap(props) {\n  _s();\n\n  const {\n    markerPositions,\n    size\n  } = props;\n  const [kakaoMap, setKakaoMap] = useState(null);\n  const [, setMarkers] = useState([]);\n  const container = useRef();\n  useEffect(() => {\n    const script = document.createElement(\"script\");\n    script.src = \"//dapi.kakao.com/v2/maps/sdk.js?appkey=a7a18fa6182937f9be9ca5aa55f24c63\";\n    document.head.appendChild(script);\n\n    script.onload = () => {\n      kakao.maps.load(() => {\n        const center = new kakao.maps.LatLng(37.50802, 127.062835);\n        const options = {\n          center,\n          level: 3\n        };\n        const map = new kakao.maps.Map(container.current, options); //setMapCenter(center);\n\n        setKakaoMap(map);\n      });\n    };\n  }, [container]);\n  useEffect(() => {\n    if (kakaoMap === null) {\n      return;\n    } // save center position\n\n\n    const center = kakaoMap.getCenter(); // change viewport size\n\n    const [width, height] = size;\n    container.current.style.width = `${width}px`;\n    container.current.style.height = `${height}px`; // relayout and...\n\n    kakaoMap.relayout(); // restore\n\n    kakaoMap.setCenter(center);\n  }, [kakaoMap, size]);\n  useEffect(() => {\n    if (kakaoMap === null) {\n      return;\n    }\n\n    const positions = markerPositions.map(pos => new kakao.maps.LatLng(...pos));\n    setMarkers(markers => {\n      // clear prev markers\n      markers.forEach(marker => marker.setMap(null)); // assign new markers\n\n      return positions.map(position => new kakao.maps.Marker({\n        map: kakaoMap,\n        position\n      }));\n    });\n\n    if (positions.length > 0) {\n      const bounds = positions.reduce((bounds, latlng) => bounds.extend(latlng), new kakao.maps.LatLngBounds());\n      kakaoMap.setBounds(bounds);\n    }\n  }, [kakaoMap, markerPositions]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"container\",\n    ref: container\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 10\n  }, this);\n}\n\n_s(KakaoMap, \"m9U0NzEYLeAM2gJur7TebWzS2k8=\");\n\n_c = KakaoMap;\n\nvar _c;\n\n$RefreshReg$(_c, \"KakaoMap\");","map":{"version":3,"names":["React","useEffect","useState","useRef","KakaoMap","props","markerPositions","size","kakaoMap","setKakaoMap","setMarkers","container","script","document","createElement","src","head","appendChild","onload","kakao","maps","load","center","LatLng","options","level","map","Map","current","getCenter","width","height","style","relayout","setCenter","positions","pos","markers","forEach","marker","setMap","position","Marker","length","bounds","reduce","latlng","extend","LatLngBounds","setBounds"],"sources":["/home/leegenho/123/Node_server/client/src/components/views/html/KakaoMap.js"],"sourcesContent":["/* global kakao */\n\nimport React, { useEffect, useState, useRef } from \"react\";\n\nexport default function KakaoMap(props) {\n  const { markerPositions, size } = props;\n  const [kakaoMap, setKakaoMap] = useState(null);\n  const [, setMarkers] = useState([]);\n\n  const container = useRef();\n\n  useEffect(() => {\n    const script = document.createElement(\"script\");\n    script.src =\n      \"//dapi.kakao.com/v2/maps/sdk.js?appkey=a7a18fa6182937f9be9ca5aa55f24c63\";\n    document.head.appendChild(script);\n\n    script.onload = () => {\n      kakao.maps.load(() => {\n        const center = new kakao.maps.LatLng(37.50802, 127.062835);\n        const options = {\n          center,\n          level: 3\n        };\n        const map = new kakao.maps.Map(container.current, options);\n        //setMapCenter(center);\n        setKakaoMap(map);\n      });\n    };\n  }, [container]);\n\n  useEffect(() => {\n    if (kakaoMap === null) {\n      return;\n    }\n\n    // save center position\n    const center = kakaoMap.getCenter();\n\n    // change viewport size\n    const [width, height] = size;\n    container.current.style.width = `${width}px`;\n    container.current.style.height = `${height}px`;\n\n    // relayout and...\n    kakaoMap.relayout();\n    // restore\n    kakaoMap.setCenter(center);\n  }, [kakaoMap, size]);\n\n  useEffect(() => {\n    if (kakaoMap === null) {\n      return;\n    }\n\n    const positions = markerPositions.map(pos => new kakao.maps.LatLng(...pos));\n\n    setMarkers(markers => {\n      // clear prev markers\n      markers.forEach(marker => marker.setMap(null));\n\n      // assign new markers\n      return positions.map(\n        position => new kakao.maps.Marker({ map: kakaoMap, position })\n      );\n    });\n\n    if (positions.length > 0) {\n      const bounds = positions.reduce(\n        (bounds, latlng) => bounds.extend(latlng),\n        new kakao.maps.LatLngBounds()\n      );\n\n      kakaoMap.setBounds(bounds);\n    }\n  }, [kakaoMap, markerPositions]);\n\n  return <div id=\"container\" ref={container} />;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}